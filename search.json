[{"path":"/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2022 marxmywords authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"/articles/capital_word_frequencies.html","id":"pre-processing-methods","dir":"Articles","previous_headings":"","what":"Pre-processing Methods","title":"Word Frequencies in Capital","text":"{marxmywords} provides text Capital data frame, columns indicating section, part chapter corresponding text “text” column. data frame one row per paragraph line break, according HTML markup Marxists Internet Archive. documentation structure source data set, see help(capital_vol1). analysis, used body text, first let’s filter lines text. (’ll look footnotes later analysis.)","code":"capital_main <- capital_vol1 %>%   filter(section == \"body\") %>%    # handle some annoying common cases not handled well by tokenization tools   mutate(     text = gsub(\"co-operat\", \"cooperat\", text, ignore.case = T),     text = gsub(\"C-M-C\", \"CMC\", text, ignore.case = T),     text = gsub(\"M-C-M\", \"MCM\", text, ignore.case = T)   )  head(capital_main) %>%   tibble() #> # A tibble: 6 × 4 #>   section  part chapter text                                                     #>   <chr>   <int>   <int> <chr>                                                    #> 1 body        1       1 \"Part I: Commodities and Money\"                          #> 2 body        1       1 \"Chapter One: Commodities\"                               #> 3 body        1       1 \"SECTION 1\"                                              #> 4 body        1       1 \"THE TWO FACTORS OF A COMMODITY:\\n USE-VALUE AND VALUE\\… #> 5 body        1       1 \" \"                                                      #> 6 body        1       1 \" The wealth of those societies in which the capitalist…"},{"path":"/articles/capital_word_frequencies.html","id":"stop-words","dir":"Articles","previous_headings":"Pre-processing Methods","what":"Stop Words","title":"Word Frequencies in Capital","text":"Stop words common words like “” “” aren’t insightful include analyses. Tidytext’s stop_words data frame includes stop words three lexicons. opted use words “snowball” “onix” lexicon (468 words total). SMART lexicon includes words like “value” rather crucial particular text.","code":"data(stop_words)  stop_words <- stop_words %>%   filter(lexicon %in% c(\"onix\", \"snowball\"))  # Also add in a few common words that aren't so interesting: custom_stop <- data.frame(   word = c(\"day\", \"days\", \"time\", \"hour\", \"hours\"),   lexicon = \"custom\" )  stop_words <- stop_words %>%   bind_rows(custom_stop)"},{"path":"/articles/capital_word_frequencies.html","id":"set-up-tokenized-tidytext-data-frames","dir":"Articles","previous_headings":"Pre-processing Methods","what":"Set up (tokenized) tidytext data frames","title":"Word Frequencies in Capital","text":"look word frequencies, first split text useful individual units, tokens, text. , use tidytext::unnest_tokens() split text individual words bigrams (neighbouring pairs words). ’ve also added column word stems; allow us group “commodities” “commodity” stem-sharing words later .","code":"capital_tokenized <- capital_main %>%   unnest_tokens(word, text) %>%   mutate(stem = wordStem(word))  %>%   # remove numeric tokens (references, dates, etc)   filter(!grepl(\"[0-9]+\", word))  capital_unstopped <- capital_tokenized %>%   anti_join(stop_words, by = \"word\")  capital_bigrams <- capital_main %>%   unnest_tokens(bigram, text, token = \"ngrams\", n = 2) %>%   separate(bigram, c(\"word1\", \"word2\"), sep = \" \") %>%   filter(     # remove stop words     !word1 %in% stop_words$word & !word2 %in% stop_words$word,     # remove numeric (they're kinda boring, but \"12 hours\" is pretty common)     !grepl(\"[0-9]\", word1) & !grepl(\"[0-9]\", word2)    ) %>%   drop_na()"},{"path":[]},{"path":"/articles/capital_word_frequencies.html","id":"chapters-by-word-count","dir":"Articles","previous_headings":"Analysis","what":"Chapters by word count","title":"Word Frequencies in Capital","text":"’s lot variability chapter length! Chapter 15 nearly 45,000 words long Chapter 29 just 541 words.","code":"# I'm including stop words in this wordcount since I think that gives a more # informative \"denominator\", i.e. \"frequency per N words\" instead of \"frequency # per N non-stop words\"  word_counts_per_chapter <- capital_tokenized %>%   group_by(chapter) %>%   summarize(wordcount = n())  word_counts_per_chapter %>%   # annotate the longest chapters   mutate(     annotate_chapters = case_when(       chapter == 1  ~ \"Commodities\",       chapter == 3  ~ \"Circulation of<br>Commodities\",       chapter == 10 ~ \"The Working-Day\",       chapter == 15 ~ \"Machinery and Modern Industry\",       chapter == 25 ~ \"The General Law of<br>Capitalist Accumulation\",       TRUE          ~ NA_character_     )   ) %>%   mutate(     chapter_pretty = pretty_chapter_names(chapter),     color_flag = is.na(annotate_chapters)   ) %>%   ggplot() +   aes(x = chapter_pretty, y = wordcount, color = color_flag) +   geom_point() +   geom_segment(     aes(xend = chapter_pretty, yend = 0)   ) +   ggtext::geom_richtext(     aes(y = wordcount/2, label = annotate_chapters),     fill = \"white\",     label.size = NA,     label.padding = unit(0, units = \"cm\"),     size = 3.1,     angle = 90   ) +   scale_color_manual(values = c( \"red\", \"black\")) +   scale_y_continuous(     expand = c(0, 0, 0.1, 0.1),     label = comma   ) +   theme_marx() +   theme(     legend.position = \"none\",     axis.text.x = element_text(angle = 90, vjust = 0.5, hjust = 1),     axis.title.x = element_blank(),     axis.ticks = element_blank(),     panel.grid.major.y = element_line(color = \"grey90\")   ) +   ylab(\"words per chapter\") +   labs(     title = \"Chapters of Capital by the numbers\",     caption = \"{marxmywords}\"   )"},{"path":"/articles/capital_word_frequencies.html","id":"most-common-words","dir":"Articles","previous_headings":"Analysis","what":"Most common words","title":"Word Frequencies in Capital","text":"Let’s try answer question posed top analysis: words come mind think Capital actually rank common words? , count word frequencies word stem, allows us group together “labourer” “labourers” similar pairs. display purposes, ’ll show common word associated stem.  top ten words … pretty much exactly might expect! Labour rises top, fair due given source capital. frequency words “value” “form” interesting. , don’t much meaning, Marx uses extensively partnership terms: surplus value, exchange value, money form, equivalent form, value form. can learn looking word pairs?","code":"subt <- \"Word counts by stem (e.g., 'commodity' and 'commodities')\" counts_by_stem  <- capital_unstopped %>%   # sum up counts across each word   group_by(word, stem) %>%   tally() %>%   # sum up counts across words with the same stem   ungroup() %>%   group_by(stem) %>%   mutate(stem_n = sum(n)) %>%   # take the most common word for that stem for our example   slice(which.max(n)) %>%   ungroup()   top_10_words <- counts_by_stem %>%   arrange(desc(stem_n)) %>%   slice(1:10) %>%   mutate(word = reorder(word, stem_n))  top_10_words %>%   ggplot() +   aes(x = stem_n, y = word, colour = word) +   geom_point() +    geom_segment(     aes(xend = 0, yend = word)   ) +   scale_color_manual(     values = c(rep(\"black\", 9), \"red\")   ) +   theme_marx() +   theme(     legend.position = \"none\",     axis.ticks.y = element_blank(),     axis.line.y = element_blank(),     axis.title.y = element_blank()   ) +   scale_x_continuous(     expand = c(0, 0, 0.1, 0.1)   ) +   xlab(\"# occurrences\") +   labs(     title = \"Capital: top 10 words\",     subtitle = subt,     caption = \"{marxmywords}\"   )"},{"path":"/articles/capital_word_frequencies.html","id":"most-common-word-pairs","dir":"Articles","previous_headings":"Analysis","what":"Most common word pairs","title":"Word Frequencies in Capital","text":"Let’s look words occur commonly sequence.  pairs words occur commonly Capital? guess “surplus value”!  see “labour power” actually common word pair, surpassing “surplus value” surprising 36%! fact, word “labour” occurs 2944 times – 20% occurrences word “labour” context “labour power”. Labour power abstraction quantity (socially necessary) work labourer can perform part social contract enter owner means production (capitalist). Labourers sell labour labour power. difference essential, since permits extraction surplus value. labourers paid labour labour power, surplus value. Whence, , arises enigmatical character product labour, soon assumes form commodities? Clearly form . equality sorts human labour expressed objectively products equally values; measure expenditure labour power duration expenditure, takes form quantity value products labour; finally mutual relations producers, within social character labour affirms , take form social relation products. ’s really neat crucial, kind tricky, concept labour power occurs frequently surplus value, term frequently encountered Marxist discussions ’ve read.","code":"top_n_bigrams <- capital_bigrams %>%   group_by(word1, word2) %>%   tally() %>%   ungroup() %>%   arrange(desc(n)) %>%   slice(1:55)   # take only combinations where words occur more than once table_bigram <- table(c(top_n_bigrams$word1, top_n_bigrams$word2)) %>%   stack() %>%   select(word = ind, pairs = values) just_once_words <- table_bigram$word[table_bigram$pairs == 1]  word_graph <- top_n_bigrams %>%   filter(!(word1 %in% just_once_words & word2 %in%just_once_words)) %>%   graph_from_data_frame()  p_layout <- ggraph(word_graph, layout = \"fr\")$data %>%   left_join(table_bigram, by = c(\"name\" = \"word\"))  p_layout %>%   ggplot() +   aes(x = x, y = y) +   geom_edge_link(color = \"grey80\") +   geom_node_point(     aes(size = log(pairs, base = 10)),     color = \"red\",     alpha = 0.8   ) +   geom_node_text(     aes(label = name, alpha = log(pairs, base = 6)),     repel = TRUE   ) +   scale_alpha_continuous(range = c(0.6, 1)) +   scale_size_continuous(range = c(2, 10)) +   theme_void() +   theme(     legend.position = \"none\",     plot.caption = element_text(color = \"grey50\", hjust = 1, size = 7)   ) +   labs(     title = \"Concept Clusters in Capital\",     caption = \"{marxmywords}\"   ) top_10_bigrams <- capital_bigrams %>%   group_by(word1, word2) %>%   tally() %>%   ungroup() %>%   arrange(desc(n)) %>%   slice(1:10)  top_10_bigrams %>%     mutate(bigram = reorder(paste(word1, word2), n)) %>%   ggplot() +   aes(y = bigram, x = n, color = bigram) +   geom_point() +   geom_segment(     aes(xend = 0, yend = bigram)   ) +   scale_x_continuous(     expand = c(0, 0, 0.1, 0.1)   ) +   scale_color_manual(     values = c(rep(\"black\", 9), \"red\")   ) +   theme_marx() +   theme(     legend.position = \"none\",     axis.ticks.y = element_blank(),     axis.line.y = element_blank(),     axis.title.y = element_blank()   ) +   xlab(\"# occurrences\") +   labs(     title = \"Capital: top 10 word pairs\",     caption = \"{marxmywords}\"   )"},{"path":"/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Circe Malone. Author, maintainer.","code":""},{"path":"/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Malone C (2022). marxmywords: Capital vol 1 analysis-ready format. R package version 0.0.0.1.","code":"@Manual{,   title = {marxmywords: Capital vol 1 in an analysis-ready format},   author = {Circe Malone},   year = {2022},   note = {R package version 0.0.0.1}, }"},{"path":"/index.html","id":"marxmywords-","dir":"","previous_headings":"","what":"Capital vol 1 in an analysis-ready format","title":"Capital vol 1 in an analysis-ready format","text":"Capital, Das Kapital, published 1867 Karl Marx, one important economic texts 19th century. package makes available text analysis R!","code":""},{"path":"/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Capital vol 1 in an analysis-ready format","text":"can install development version marxmywords like :","code":"devtools::install(\"alicirce/marxmywords\")"},{"path":"/index.html","id":"example","dir":"","previous_headings":"","what":"Example","title":"Capital vol 1 in an analysis-ready format","text":"loading package, text available namepace. Let’s peek table contents: object dataframe. text stored column text, columns indicate section, part chapter text came . Read structure source data frame package documentation: ’d like print text file read book, convenience function: can count number occurrences word:","code":"library(marxmywords) library(dplyr) capital_vol1 %>%   filter(section == \"toc\") help(capital_vol1) book <- capital_vol1_book() writeLines(book, \"capital_vol1.txt\") capital_vol1 %>%   mutate(     n_linen = stringr::str_count(text, \"linen\"),     n_coat  = stringr::str_count(text, \"coat\"),   ) %>%   summarize(     tot_linen = sum(n_linen),     tot_coat  = sum(n_coat)   )"},{"path":"/reference/capital_vol1.html","id":null,"dir":"Reference","previous_headings":"","what":"Capital, Volume I, by Karl Marx (1867) — capital_vol1","title":"Capital, Volume I, by Karl Marx (1867) — capital_vol1","text":"version Capital taken Marx/Engels Internet Archive (marxists.org), based first English edition (1887), translated Samuel Moore Edward Aveling, edited Frederick Engels.","code":""},{"path":"/reference/capital_vol1.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Capital, Volume I, by Karl Marx (1867) — capital_vol1","text":"","code":"capital_vol1"},{"path":"/reference/capital_vol1.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Capital, Volume I, by Karl Marx (1867) — capital_vol1","text":"data frame, containing four columns: section Section book, one : \"toc\" (Table Contents), \"body\" (main text), \"footnotes\" (footnotes), \"credits\" (list transcribers HTML markup contributors) part Part text; main text divided 8 parts chapter Chapter text: main text divided 33 chapters text Text, usually one paragraph footnote per row. (depends HTML markup done.)","code":""},{"path":"/reference/capital_vol1.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Capital, Volume I, by Karl Marx (1867) — capital_vol1","text":"https://www.marxists.org/archive/marx/works/1867-c1/","code":""},{"path":"/reference/capital_vol1.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Capital, Volume I, by Karl Marx (1867) — capital_vol1","text":"text stored data frame four columns. main text included \"body\" section, skip footnotes read, lot fun. Note footnote numbering re-starts beginning chapter.","code":""},{"path":"/reference/capital_vol1_book.html","id":null,"dir":"Reference","previous_headings":"","what":"Combine Capital Vol I components into a single character vector — capital_vol1_book","title":"Combine Capital Vol I components into a single character vector — capital_vol1_book","text":"data provided package separates components text lists facilitate analysis, can also handy single character vector. example, can use function like writeLines print text file!","code":""},{"path":"/reference/capital_vol1_book.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Combine Capital Vol I components into a single character vector — capital_vol1_book","text":"","code":"capital_vol1_book()"},{"path":"/reference/marxmywords.html","id":null,"dir":"Reference","previous_headings":"","what":"Marx My Words — marxmywords","title":"Marx My Words — marxmywords","text":"package contains complete text Karl Marx' Capital Volume , formatted convenient text analysis.","code":""}]
